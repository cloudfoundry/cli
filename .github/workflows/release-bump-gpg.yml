name: Test legacy ubuntu container wrapper

on:
  workflow_dispatch:

permissions:
  contents: write

defaults:
  run:
    shell: bash

jobs:
  test-container-wrapper:
    runs-on: ubuntu-latest
    steps:
    - name: Latest Ubuntu
      run: cat /etc/os-release
    - name: Ubuntu 20.04
      run: |
        docker run -i --rm -v ${{ github.workspace }}:/workspace -w /workspace ubuntu:20.04 << EOM
          cat /etc/os-release
        EOM